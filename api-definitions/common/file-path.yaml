################################################################################
# This schema defines the common ways to reference files and directories held in
# the various supported storage media.
################################################################################

schemas:
  LocalPath:
    required: ['path']
    properties:
      path:
        type: string
        description: The name of the file on disk

  ObjectStoragePath:
    allOf:
      - $ref: './object-storage-connection.yaml#/schemas/Bucket'
      - type: object
        description: 'Path within an object storage bucket'
        required: ['path']
        properties:
          path:
            type: string
            description: The path within the bucket

  FilePath:
    description: Path to an individual file
    oneOf:
      - $ref: '#/schemas/LocalPath'
      - $ref: '#/schemas/ObjectStoragePath'

  DirectoryPath:
    description: Path to a directory
    oneOf:
      - $ref: '#/schemas/LocalPath'
      - $ref: '#/schemas/ObjectStoragePath'
